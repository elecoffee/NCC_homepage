<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Game detail</title>
<style>
  :root{--bg:#fafafa; --panel:#fff; --line:#eaeaea; --ink:#111}
  body{margin:0; background:var(--bg); color:var(--ink); font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", sans-serif}
  .wrap{max-width:960px; margin:0 auto; padding:20px}
  header{border-bottom:1px solid var(--line); background:#fff; position:sticky; top:0; z-index:5}
  .hrow{display:flex; gap:12px; align-items:center; padding:12px 20px}
  a.back{font-size:14px; text-decoration:none; color:#06f}
  .hero{display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:16px}
  .shot{aspect-ratio:16/10; background:linear-gradient(0deg,#efefef,#f7f7f7); border:1px solid var(--line); border-radius:12px; display:grid; place-items:center}
  h1{margin:.4em 0}
  .meta{color:#666; font-size:14px; display:flex; gap:8px; flex-wrap:wrap}
  .panel{background:var(--panel); border:1px solid var(--line); border-radius:12px; padding:16px}
  .dl{display:flex; gap:12px; margin-top:12px; flex-wrap:wrap}
  .btn{border:1px solid var(--line); background:#111; color:#fff; padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:600; font-size:14px}
  .btn.ghost{background:#fff; color:#111}
  @media (max-width:900px){ .hero{grid-template-columns:1fr}}
</style>
</head>
<body>
<header>
  <div class="hrow">
    <a class="back" href="index.html">← Back to list</a>
  </div>
</header>

<div class="wrap">
  <div id="content" class="panel">
    Loading…
  </div>
</div>

<script>
  // 実運用ではJSON等から取得。ここでは index.html と同一IDで最小情報を再掲。
  const GAMES = {
    "dim-gate": {
      title:"Dimensions Gate",
      genre:["Puzzle","Edu","FPS-lite"],
      platforms:["Windows","WebGL"],
      rating:4.6,
      description:`四次元超立方体（テッセラクト）を歩き回りながら、重力の反転や位相のループを体で理解する学習型ゲーム。`,
      shots:[""], // 画像URLを並べる
      downloads:[
        {label:"Windows (.zip)", url:"#"},
        {label:"Play in browser (WebGL)", url:"#"}
      ]
    },
    "spring-saber": {
      title:"Spring Saber",
      genre:["Action","Rhythm"],
      platforms:["Windows"],
      rating:4.2,
      description:`スラッシュとビートを同期させるスピーディーなアクション。`,
      shots:[""],
      downloads:[{label:"Windows (.zip)", url:"#"}]
    },
    "orb-rally": {
      title:"Orb Rally",
      genre:["Racing"],
      platforms:["Windows","Mac"],
      rating:4.0,
      description:`物理演算で転がる球体レーサー。タイムアタックとオンラインゴースト対応。`,
      shots:[""],
      downloads:[{label:"Windows (.zip)", url:"#"}, {label:"Mac (.zip)", url:"#"}]
    },
    "novel-atelier": {
      title:"Novel Atelier",
      genre:["VisualNovel","Edu"],
      platforms:["WebGL","Mac"],
      rating:4.8,
      description:`文章表現の技法を実験できるノベル制作・体験ツール。`,
      shots:[""],
      downloads:[{label:"Play in browser (WebGL)", url:"#"}, {label:"Mac (.zip)", url:"#"}]
    },
    "rogue-lab": {
      title:"Rogue Lab",
      genre:["Roguelike","Action"],
      platforms:["Windows","Linux"],
      rating:4.1,
      description:`1コインで研究所からの脱出を試みるローグライク。`,
      shots:[""],
      downloads:[{label:"Windows (.zip)", url:"#"}, {label:"Linux (.zip)", url:"#"}]
    },
    "party-potion": {
      title:"Party Potion",
      genre:["Party","Puzzle"],
      platforms:["Windows","WebGL"],
      rating:3.9,
      description:`素材を混ぜて爆発…！？ローカル対戦も盛り上がるクラフトパズル。`,
      shots:[""],
      downloads:[{label:"Windows (.zip)", url:"#"}, {label:"Play in browser (WebGL)", url:"#"}]
    }
  };

  const params = new URLSearchParams(location.search);
  const id = params.get("id");
  const game = id && GAMES[id];

  const el = document.getElementById("content");
  if(!game){
    el.innerHTML = `<p>ゲームが見つかりませんでした。</p>`;
  }else{
    const shots = (game.shots?.length? game.shots: [""]).map(()=>`<div class="shot"><span>Screenshot</span></div>`).join("");
    const price = game.price===0 ? "Free" : "$"+game.price;

    el.innerHTML = `
      <div class="hero">
        <div class="shot"><span>Hero Image</span></div>
        <div>
          <h1>${game.title}</h1>
          <div class="meta">
            <span>${game.genre.join(", ")}</span>
            <span>· ${game.platforms.join(", ")}</span>
            <span>· ★ ${game.rating.toFixed(1)}</span>
            <span>· ${price}</span>
          </div>
          <p style="margin-top:12px">${game.description}</p>
          <div class="dl">
            ${game.downloads.map(d=>`<a class="btn" href="${d.url}" download>${d.label}</a>`).join("")}
            <a class="btn ghost" href="index.html">Back to list</a>
          </div>
        </div>
      </div>

      <div style="height:12px"></div>
      <div class="panel" style="background:#fcfcfc">
        <h3 style="margin:0 0 10px">Screenshots</h3>
        <div style="display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:12px">
          ${shots}
        </div>
      </div>
    `;
  }
</script>
</body>
</html>
